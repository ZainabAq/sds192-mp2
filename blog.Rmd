---
title: "Mini-Project 2"
author: "Jessica Keast, Zainab Rizvi, Rachel LaFlamme"
date: "March 24, 2017"
output: html_document
---


## Loading the data

```{r, include=FALSE}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```

```{r}
library(tidyverse)
library(ggplot2)
```

```{r}
new_house <- house_elections %>%
  select(party, primary_votes, general_votes, state, ge_winner) %>%
  filter(party == "R" | party == "D")
  
filterVotes(field1 = primary_votes, field2 = general_votes)

filterVotes <- function(field1, field2) {
    dplyr::filter(new_house, field1 > 0  & field2 > 0)
}

finalData <- new_house %>%
  mutate(diff = general_votes - primary_votes) %>%
  arrange(desc(diff)) %>%
  top_n(100)

ggplot(finalData, aes(x = primary_votes, y = general_votes)) + geom_point(aes(color = party))
```